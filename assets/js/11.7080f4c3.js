(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{212:function(_,v,e){"use strict";e.r(v);var s=e(28),t=Object(s.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"服务设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务设置"}},[_._v("#")]),_._v(" 服务设置")]),_._v(" "),e("p",[_._v("在 "),e("em",[_._v("Melody")]),_._v(" 上使用TLS有两种不同的策略：")]),_._v(" "),e("ul",[e("li",[_._v("将TLS用于HTTPS和HTTP/2")]),_._v(" "),e("li",[_._v("在 "),e("em",[_._v("Melody")]),_._v(" 前面使用带有TLS终端的平衡器（例如 ELB、HAproxy）")])]),_._v(" "),e("p",[_._v("如果您想要在 "),e("em",[_._v("Melody")]),_._v(" 中启用TLS，在需要在服务级别（根级别）去配置"),e("code",[_._v("tls")]),_._v("属性，并且至少包含公钥和私钥。添加 TLS时，"),e("em",[_._v("Melody")]),_._v(" 只是去使用TLS进行侦听，并且不会接受纯HTTP的流量")]),_._v(" "),e("h2",{attrs:{id:"tls简单配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tls简单配置"}},[_._v("#")]),_._v(" TLS简单配置")]),_._v(" "),e("p",[_._v("使用TLS来启动 "),e("em",[_._v("Melody")]),_._v(" 您只需要生成证书并提供公钥和私钥：")]),_._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("{")]),_._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[_._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[_._v(":")]),_._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[_._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(",")]),_._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[_._v('"tls"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[_._v(":")]),_._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("{")]),_._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[_._v('"public_key"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[_._v(":")]),_._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[_._v('"/path/cert.pem"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(",")]),_._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[_._v('"private_key"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[_._v(":")]),_._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[_._v('"/path/key.pem"')]),_._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("}")]),_._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("}")]),_._v("\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br"),e("span",{staticClass:"line-number"},[_._v("2")]),e("br"),e("span",{staticClass:"line-number"},[_._v("3")]),e("br"),e("span",{staticClass:"line-number"},[_._v("4")]),e("br"),e("span",{staticClass:"line-number"},[_._v("5")]),e("br"),e("span",{staticClass:"line-number"},[_._v("6")]),e("br"),e("span",{staticClass:"line-number"},[_._v("7")]),e("br")])]),e("h2",{attrs:{id:"tls完整配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tls完整配置"}},[_._v("#")]),_._v(" TLS完整配置")]),_._v(" "),e("p",[_._v("必填选项：")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("public_key")]),_._v(" ： 公钥或相对于当前工作目录的绝对路径")]),_._v(" "),e("li",[e("code",[_._v("private_key")]),_._v("： 私钥或相对于当前工作目录的绝对路径")])]),_._v(" "),e("p",[_._v("可选选项:")]),_._v(" "),e("ul",[e("li",[e("p",[e("code",[_._v("disable")]),_._v("： 布尔值，禁用TLS的临时表示，用于开发阶段")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("min_version")]),_._v("： 字符串，最低TLS版本（SSL3.0、TLS10、TLS11、TLS12）")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("max_version")]),_._v("： 字符串，最大TLS版本（SSL3.0、TLS10、TLS11、TLS12）")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("curve_preferences")]),_._v("： 整数数组，曲线首选项的所有标识符的列表")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("prefer_server_cipher_suites")]),_._v("： 布尔值，强制使用服务器提供的密码套件之一，而不是使用客户端提出的密码套件")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("cipher_suites")]),_._v("： 整数数组，密码套件列表，列表以及值对应的列表如下所示：")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("5")]),_._v(": TLS_RSA_WITH_RC4_128_SHA")]),_._v(" "),e("li",[e("code",[_._v("10")]),_._v(": TLS_RSA_WITH_3DES_EDE_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("47")]),_._v(": TLS_RSA_WITH_AES_128_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("53")]),_._v(": TLS_RSA_WITH_AES_256_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("60")]),_._v(": TLS_RSA_WITH_AES_128_CBC_SHA256")]),_._v(" "),e("li",[e("code",[_._v("156")]),_._v(": TLS_RSA_WITH_AES_128_GCM_SHA256")]),_._v(" "),e("li",[e("code",[_._v("157")]),_._v(": TLS_RSA_WITH_AES_256_GCM_SHA384")]),_._v(" "),e("li",[e("code",[_._v("49159")]),_._v(": TLS_ECDHE_ECDSA_WITH_RC4_128_SHA")]),_._v(" "),e("li",[e("code",[_._v("49161")]),_._v(": TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("49162")]),_._v(": TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("49169")]),_._v(": TLS_ECDHE_RSA_WITH_RC4_128_SHA")]),_._v(" "),e("li",[e("code",[_._v("49170")]),_._v(": TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("49171")]),_._v(": TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("49172")]),_._v(": TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA")]),_._v(" "),e("li",[e("code",[_._v("49187")]),_._v(": TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256")]),_._v(" "),e("li",[e("code",[_._v("49191")]),_._v(": TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256")]),_._v(" "),e("li",[e("code",[_._v("49199")]),_._v(": TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256")]),_._v(" "),e("li",[e("code",[_._v("49195")]),_._v(": TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256")]),_._v(" "),e("li",[e("code",[_._v("49200")]),_._v(": TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384")]),_._v(" "),e("li",[e("code",[_._v("49196")]),_._v(": TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384")]),_._v(" "),e("li",[e("code",[_._v("52392")]),_._v(": TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305")]),_._v(" "),e("li",[e("code",[_._v("52393")]),_._v(": TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305")])])])])])}),[],!1,null,null,null);v.default=t.exports}}]);