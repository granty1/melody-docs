{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{210:function(s,e,a){\"use strict\";a.r(e);var t=a(28),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"配置文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置文件\"}},[s._v(\"#\")]),s._v(\" 配置文件\")]),s._v(\" \"),a(\"p\",[a(\"em\",[s._v(\"Melody\")]),s._v(\" 服务器需要启动和操作的所有配置都是一个配置文件。在所有文档中，此文件都称为\"),a(\"code\",[s._v(\"melody.json\")]),s._v(\"。\")]),s._v(\" \"),a(\"p\",[s._v(\"但是\"),a(\"code\",[s._v(\"melody.json\")]),s._v(\"只是一个别名，你可以使用任何名字，比如\"),a(\"code\",[s._v(\"example.json\")]),s._v(\"，只是在使用的是要注意修改为：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[a(\"code\",[s._v(\"melody run -c example.json -d\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"div\",{staticClass:\"custom-block warning\"},[a(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"注意\")]),s._v(\" \"),a(\"p\",[s._v(\"如果配置文件太大或重复，可以使用模板系统将其拆分为多个文件。有关此功能将会在后面的版本推出，这个功能还在进行开发。\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"生成配置文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#生成配置文件\"}},[s._v(\"#\")]),s._v(\" 生成配置文件\")]),s._v(\" \"),a(\"p\",[s._v(\"配置文件可以从头开始编写，也可以重用另一个现有文件作为基础，但编写第一个配置文件的最简单方法是使用在线配置编辑器 \"),a(\"em\",[s._v(\"Melody Designer\")]),s._v(\" 。\")]),s._v(\" \"),a(\"p\",[a(\"em\",[s._v(\"Melody Designer\")]),s._v(\" 是一个简单的javascript应用程序，它帮助您了解API网关的功能，并帮助您为所有不同的选项设置不同的值。使用此选项不需要从头学习和编写所有属性名。可以随时下载配置文件并重新加载以继续编辑。\")]),s._v(\" \"),a(\"p\",[a(\"em\",[s._v(\"Melody Designer\")]),s._v(\" 是一个纯静态页面，它不会将您的任何配置发送到其他地方，正如我们所有的软件一样，它也是开源的，您可以下载它并在自己的web服务器上运行它。请参阅Krakendesigner存储库。\")]),s._v(\" \"),a(\"p\",[s._v(\"立即\"),a(\"a\",{attrs:{href:\"https://github.com/granty1/melody\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"生成配置\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"h2\",{attrs:{id:\"验证配置文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#验证配置文件\"}},[s._v(\"#\")]),s._v(\" 验证配置文件\")]),s._v(\" \"),a(\"p\",[a(\"code\",[s._v(\"melody check\")]),s._v(\"命令验证配置文件的语法：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[a(\"code\",[s._v(\"melody check -c melody.json\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" Syntax OK\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"!\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"当语法正确时，您将看到消息语法OK！，否则显示错误。\")]),s._v(\" \"),a(\"p\",[s._v(\"您还可以直接启动服务，因为这是在服务器启动之前完成的。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"了解配置文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#了解配置文件\"}},[s._v(\"#\")]),s._v(\" 了解配置文件\")]),s._v(\" \"),a(\"p\",[s._v(\"所有的配置都在\"),a(\"code\",[s._v(\"melody.json\")]),s._v(\"中进行，所以你得去熟悉他的内容和语法\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"整体结构\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#整体结构\"}},[s._v(\"#\")]),s._v(\" 整体结构\")]),s._v(\" \"),a(\"p\",[s._v(\"这个文件中有很多选项，现在我们只关注结构：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-json line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"version\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"endpoints\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"...\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"extra_config\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"...\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n    ...\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\")])]),a(\"ul\",[a(\"li\",[a(\"code\",[s._v(\"version\")]),s._v(\": 代表当前使用的 \"),a(\"em\",[s._v(\"Melody\")]),s._v(\" 的版本，目前使用的是 \"),a(\"code\",[s._v(\"1\")])]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"endpoints\")]),s._v(\": 网关提供的端点对象数组以及所有相关的后端和配置，代表客户端到网关这一段。\")]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"extra_config\")]),s._v(\": 与中间件或组件相关的额外配置。例如，您可能希望启用日志记录或度量，这是API网关的非核心和可选功能。\")])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}